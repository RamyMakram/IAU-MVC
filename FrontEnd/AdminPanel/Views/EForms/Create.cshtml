@model IAUAdmin.DTO.Entity.E_FormsDTO
@{
	ViewBag.Title = "E-From Type";
	ViewBag.pTitle = "E-From Type";
	ViewBag.pageTitle = "E-Froms" + (Request.QueryString["SharedVal"] != null ? "," + Request.QueryString["SharedVal"] : "");
	ViewBag.arTitle = "اضافة نموذج";
	ViewBag.arpTitle = "اضافة نموذج";
	ViewBag.arpageTitle = "النماذج الالكترونية" + (Request.QueryString["SharedVal"] != null ? "," + Request.QueryString["SharedVal"] : "");
	Layout = "~/Views/Shared/_Layout.cshtml";
}



<!-- select2 css -->
<link href="~/assets/libs/select2/css/select2.min.css" rel="stylesheet" type="text/css" />

<!-- dropzone css -->
<link href="~/assets/libs/dropzone/min/dropzone.min.css" rel="stylesheet" type="text/css" />
<style>
	span.select2 {
		width: 100% !important
	}

	label.control-label::after {
		content: ":";
	}

	label.control-label {
		font-weight: bold;
	}
</style>
@{
	var isar = Request.Cookies["lang"].Value == "ar";
}
<div class="row">
	<div class="col-12">
		<div class="card">
			<div class="card-body">

				<h4 key="t-basicInfo" class="card-title">Basic Information</h4>
				<p key="t-fillrequired" class="card-title-desc">Fill all information below</p>
				@using (Html.BeginForm("Create", "EForms", new { SubService = Request.QueryString["SubService"] }, FormMethod.Post, new { encType = "multipart/form-data" }))
				{
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label" key="t-name" for="name">Name</label>
								@Html.TextBoxFor(q => q.Name, new { @class = "form-control ar-font", @name = "name", @id = "name" })
							</div>
						</div>

						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label" key="t-enname" for="enname">Mobile</label>
								@Html.TextBoxFor(q => q.Name_EN, new { @class = "form-control en-font", @name = "enname", @id = "enname" })
							</div>
							@if (Request.QueryString["SubService"] == null)
							{
								<div class="form-group">
									<label key="t-subservice" class="control-label">units</label>
									@Html.DropDownListFor(q => q.SubServiceID, ViewBag.SubSrevice as SelectList, new { @class = "form-control select2" })
								</div>
							}
						</div>
						<div class="col-12">
							<div class="row" style="display:flex;justify-content:center;align-items:center">
								<div class="control col-6" style="display:inline-flex;justify-content:center;align-items:center">
									<select class="form-control select2" id="ComponetType">
										<option value="1">@(isar?"حقل ادخال":"Input")</option>
										<option value="2">@(isar? "اختيار من متعدد":"Select from Multi")</option>
										<option value="3">@(isar?"اختيار متعدد":"Select Multi")</option>
									</select>
									<button class="btn btn-circle" style="top:0!important;color:green" id="addComponent" type="button"><i class="fas fa-plus-circle"></i></button>
								</div>
							</div>
							<div class='repeater'>
								<div data-repeater-list="group-a">
									<div data-repeater-item>
										<input type="text" name="text-input" value="G" />
										<div class="form-group">
											<label key="t-subservice" class="control-label">units</label>
										</div>
										<button data-repeater-delete type="button" class="btn btn-danger">@(isar?"حذف":"Delete")</button>
									</div>
								</div>
								<input data-repeater-create type="button" value="Add" />
							</div>
							<div class='repeater'>
								<div data-repeater-list="group-b">
									<div data-repeater-item>
										<input type="text" name="text-input" value="B" />
										<button data-repeater-delete type="button" class="btn btn-danger">@(isar?"حذف":"Delete")</button>
									</div>
								</div>
								<input data-repeater-create type="button" value="Add" />
							</div>
							<div class='repeater'>
								<div data-repeater-list="group-c">
									<div data-repeater-item>
										<input type="text" name="text-input" value="B" />
										<button data-repeater-delete type="button" class="btn btn-danger">@(isar?"حذف":"Delete")</button>
									</div>
								</div>
								<input data-repeater-create type="button" value="Add" />
							</div>
						</div>

					</div>
					<button type="submit" key="t-save" class="btn btn-primary mr-1 waves-effect waves-light">Save Changes</button>
					@Html.ActionLink("Cancel", "Home", "EForms", new { SubService = Request.QueryString["SubService"] }, new { @class = "btn btn-secondary waves-effect", @key = "t-cancel" })
				}

			</div>
		</div>

	</div>
</div>
<!-- end row -->
<!-- JAVASCRIPT -->
<script src="~/assets/libs/jquery/jquery.min.js"></script>
<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<script src="~/assets/js/lang/jquery.multiLanguage.js"></script>

<!-- select 2 plugin -->
<script src="~/assets/libs/select2/js/select2.min.js"></script>

<!-- dropzone plugin -->
<script src="~/assets/libs/dropzone/min/dropzone.min.js"></script>

<!-- init js -->
<script src="~/assets/js/pages/ecommerce-select2.init.js"></script>

<!-- App js -->
<script src="~/assets/js/app.js"></script>
<script>
	document.getElementById("addComponent").addEventListener('click',
		function (e) {
			let ComponetType = $('#ComponetType').val()
			$(`[data-repeater-create]:nth-child(${ComponetType})`).click()
		},
		false
	);

</script>