@model ICollection<IAUAdmin.DTO.Entity.RequestReportDTO>
@{
	ViewBag.Title = "Statistics";
	ViewBag.pTitle = "Statistics";
	ViewBag.pageTitle = "Filterd Requests";
	ViewBag.arTitle = "التقارير والاحصائيات";
	ViewBag.arpageTitle = "التقارير والاحصائيات";
	ViewBag.arpTitle = " الطلبات المفلتره";
	Layout = "~/Views/Shared/_Layout.cshtml";
	var isAr = Request.Cookies["lang"].Value == "ar";
	var data = Request.QueryString["Columns"];


}
<style>
	#datatable-buttons_wrapper .row .col-sm-12{
		overflow:auto;
	}
</style>
<!-- DataTables -->
<link href="~/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<!-- Sweet Alert-->
<link href="~/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
<!-- Responsive datatable examples -->
<link href="~/assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />

<div class="row">
	<div class="col-12">
		<div class="card">
			<div class="card-body">
				<div class="col-12 d-flex justify-content-end mb-3">
					@*<button type="button" class="btn btn-primary" id="sa-archive">
							<span key="t-">Archive Selected</span>
						</button>*@
					<a href="/Report" class="btn btn-primary">@(isAr ? "العوده للرئيسية" : "Back To Home")</a>

				</div>

				<table id="datatable-buttons" class="table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
					<thead>
						<tr>
							<th>#</th>
							@{
								if (data.Contains("First_Name"))
								{
									<th>@(isAr ? "الأسم الاول" : "First Name")</th>
								}
								if (data.Contains("Middle_Name"))
								{
									<th>@(isAr ? "الأسم الاوسط" : "Middle Name")</th>
								}
								if (data.Contains("Last_Name"))
								{
									<th>@(isAr ? "الاسم الاخير" : "Last Name")</th>
								}
								if (data.Contains("Mobile"))
								{
									<th>@(isAr ? "الهاتف" : "Mobile")</th>
								}
								if (data.Contains("Email"))
								{
									<th>@(isAr ? "البريد الالكتروني" : "Email")</th>
								}
								if (data.Contains("Nationality"))
								{
									<th>@(isAr ? "الجنسية" : "Nationalty")</th>
								}
								if (data.Contains("Country"))
								{
									<th>@(isAr ? "الدولة" : "Country")</th>
								}
								if (data.Contains("Region"))
								{
									<th>@(isAr ? "المنطقة" : "Region")</th>
								}
								if (data.Contains("City"))
								{
									<th>@(isAr ? "المدينة" : "City")</th>
								}
								if (data.Contains("Postal_Code"))
								{
									<th>@(isAr ? "رقم البريد" : "Postal")</th>
								}
								if (data.Contains("ID_Number"))
								{
									<th>@(isAr ? "رقم الهوية" : "ID Number")</th>
								}
								if (data.Contains("IAU_ID_Number"))
								{
									<th>@(isAr ? "منسوب للجامعة" : "IAU Affilate")</th>
								}
								if (data.Contains("ServiceType"))
								{
									<th>@(isAr ? "الخدمة الرئيسية" : "Service Type")</th>
								}
								if (data.Contains("RequestType"))
								{
									<th>@(isAr ? "نوع الطلب" : "Request Type")</th>
								}
								if (data.Contains("Code_Generate"))
								{
									<th>@(isAr ? "كود الطلب" : "Request Code")</th>
								}
								if (data.Contains("CreatedDate"))
								{
									<th>@(isAr ? "تاريخ الانشاء" : "Creation Date")</th>
								}
								if (data.Contains("ApplicantType"))
								{
									<th>@(isAr ? "نوع مقدم الطلب" : "Applicant Type")</th>
								}
								if (data.Contains("RequestStatus"))
								{
									<th>@(isAr ? "حالة الطلب" : "Status")</th>
								}
							}
						</tr>
					</thead>
					<tbody id="MailList">
						@{
							var count = 1;
							foreach (var i in Model)
							{
								<tr>
									<td>@count</td>
									@{
										if (data.Contains("First_Name"))
										{
											<td>@i.First_Name</td>
										}
										if (data.Contains("Middle_Name"))
										{
											<td>@i.Middle_Name</td>
										}
										if (data.Contains("Last_Name"))
										{
											<td>@i.Last_Name</td>
										}
										if (data.Contains("Mobile"))
										{
											<td class="en-font">@i.Mobile</td>
										}
										if (data.Contains("Email"))
										{
											<td class="en-font">@i.Email</td>
										}
										if (data.Contains("Nationality"))
										{
											<td>@(isAr ? i.Country.Country_Name_AR : i.Country.Country_Name_EN)</td>
										}
										if (data.Contains("Country"))
										{
											<td>@(isAr ? i.Country2.Country_Name_AR : i.Country2.Country_Name_EN)</td>
										}
										if (data.Contains("Region"))
										{
											if (i.Region == null)
											{
												<td>@i.Adress_Region</td>
											}
											else
											{
												<td>@(isAr ? i.Region.Region_Name_AR : i.Region.Region_Name_EN)</td>
											}
										}
										if (data.Contains("City"))
										{
											if (i.City == null)
											{
												<td>@i.Address_City</td>
											}
											else
											{
												<td>@(isAr ? i.City.City_Name_AR : i.City.City_Name_EN)</td>
											}
										}
										if (data.Contains("Postal"))
										{
											<td class="en-font">@i.Postal_Code</td>
										}
										if (data.Contains("ID_Number"))
										{
											<td class="en-font">@i.ID_Number</td>
										}
										if (data.Contains("IAU_ID_Number"))
										{
											<td class="en-font">@i.IAU_ID_Number</td>
										}
										if (data.Contains("ServiceType"))
										{
											<td>@(isAr ? i.Service_Type.Service_Type_Name_AR : i.Service_Type.Service_Type_Name_EN)</td>
										}
										if (data.Contains("RequestType"))
										{
											<td>@(isAr ? i.Request_Type.Request_Type_Name_AR : i.Request_Type.Request_Type_Name_EN)</td>
										}
										if (data.Contains("Code_Generate"))
										{
											<td class="en-font">@i.Code_Generate</td>
										}
										if (data.Contains("CreatedDate"))
										{
											<td class="en-font">@i.CreatedDate</td>
										}
										if (data.Contains("ApplicantType"))
										{
											<td>@(isAr ? i.Applicant_Type.Applicant_Type_Name_AR : i.Applicant_Type.Applicant_Type_Name_EN)</td>
										}
										if (data.Contains("RequestStatus"))
										{
											<td>@(isAr ? i.Request_State.StateName_AR : i.Request_State.StateName_EN)</td>
										}
									}
								</tr>
								count++;
							}
						}
					</tbody>
				</table>
			</div>
		</div>
	</div> <!-- end col -->
</div> <!-- end row -->







<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<script src="~/assets/js/lang/jquery.multiLanguage.js"></script>

<!-- Required datatable js -->
<script src="~/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<!-- Buttons examples -->
<script src="~/assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="~/assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
<script src="~/assets/libs/jszip/jszip.min.js"></script>
<script src="~/assets/libs/pdfmake/build/pdfmake.min.js"></script>
<script src="~/assets/libs/pdfmake/build/vfs_fonts.js"></script>
<script src="~/assets/libs/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="~/assets/libs/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="~/assets/libs/datatables.net-buttons/js/buttons.colVis.min.js"></script>

<!-- Responsive examples -->
<script src="~/assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="~/assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
<!-- Datatable init js -->
<script src="~/assets/js/pages/datatables.init.js"></script>
<script src="~/assets/js/app.js"></script>
